/* =========================================
   COLOR TOKENS - Single Source of Truth
   CSS Color Level 4 with Modern Features
   OKLCH, color-mix(), P3 Display Colors
   ========================================= */

:root {
  /* ========================================= 
     BRAND COLORS - OKLCH Perceptual Color Space
     ========================================= */
  --color-brand-primary: oklch(0.7 0.15 260);
  --color-brand-secondary: oklch(0.8 0.12 320);
  --color-brand-accent: oklch(0.75 0.2 60);
  --color-brand-muted: oklch(0.85 0.05 260);
  
  /* Dynamic brand variations using color-mix() */
  --color-brand-primary-hover: color-mix(in oklch, var(--color-brand-primary) 90%, oklch(0.9 0.1 260) 10%);
  --color-brand-primary-active: color-mix(in oklch, var(--color-brand-primary) 85%, oklch(0.3 0.2 260) 15%);
  --color-brand-primary-disabled: color-mix(in oklch, var(--color-brand-primary) 50%, transparent 50%);
  
  /* Brand color palette with lightness variations */
  --color-brand-50: oklch(0.95 0.02 260);
  --color-brand-100: oklch(0.9 0.04 260);
  --color-brand-200: oklch(0.85 0.06 260);
  --color-brand-300: oklch(0.8 0.08 260);
  --color-brand-400: oklch(0.75 0.12 260);
  --color-brand-500: oklch(0.7 0.15 260); /* Primary */
  --color-brand-600: oklch(0.65 0.18 260);
  --color-brand-700: oklch(0.6 0.2 260);
  --color-brand-800: oklch(0.5 0.22 260);
  --color-brand-900: oklch(0.4 0.24 260);
  --color-brand-950: oklch(0.3 0.26 260);
  
  /* ========================================= 
     SEMANTIC COLORS - OKLCH System
     ========================================= */
  --color-success: oklch(0.7 0.15 142);
  --color-success-light: color-mix(in oklch, var(--color-success) 20%, oklch(0.95 0.02 142) 80%);
  --color-success-dark: color-mix(in oklch, var(--color-success) 80%, oklch(0.3 0.2 142) 20%);
  
  --color-warning: oklch(0.8 0.15 85);
  --color-warning-light: color-mix(in oklch, var(--color-warning) 20%, oklch(0.95 0.02 85) 80%);
  --color-warning-dark: color-mix(in oklch, var(--color-warning) 80%, oklch(0.3 0.2 85) 20%);
  
  --color-error: oklch(0.65 0.2 25);
  --color-error-light: color-mix(in oklch, var(--color-error) 20%, oklch(0.95 0.02 25) 80%);
  --color-error-dark: color-mix(in oklch, var(--color-error) 80%, oklch(0.3 0.25 25) 20%);
  
  --color-info: oklch(0.75 0.12 220);
  --color-info-light: color-mix(in oklch, var(--color-info) 20%, oklch(0.95 0.02 220) 80%);
  --color-info-dark: color-mix(in oklch, var(--color-info) 80%, oklch(0.3 0.15 220) 20%);
  
  /* ========================================= 
     SURFACE COLORS - Advanced Background System
     ========================================= */
  --color-surface-primary: oklch(1 0 0);
  --color-surface-secondary: oklch(0.98 0 0);
  --color-surface-tertiary: oklch(0.95 0 0);
  --color-surface-quaternary: oklch(0.92 0 0);
  
  /* Elevated surfaces with subtle brand tinting */
  --color-surface-elevated: color-mix(in oklch, oklch(1 0 0) 95%, var(--color-brand-primary) 5%);
  --color-surface-elevated-hover: color-mix(in oklch, oklch(1 0 0) 90%, var(--color-brand-primary) 10%);
  
  /* Glass morphism effects */
  --color-surface-glass: color-mix(in oklch, oklch(1 0 0) 80%, transparent 20%);
  --color-surface-glass-dark: color-mix(in oklch, oklch(0.2 0 0) 80%, transparent 20%);
  
  /* Interactive surface states */
  --color-surface-hover: color-mix(in oklch, var(--color-surface-primary) 95%, var(--color-text-primary) 5%);
  --color-surface-active: color-mix(in oklch, var(--color-surface-primary) 90%, var(--color-text-primary) 10%);
  --color-surface-selected: color-mix(in oklch, var(--color-surface-primary) 90%, var(--color-brand-primary) 10%);
  
  /* ========================================= 
     TEXT COLORS - Advanced Typography System
     ========================================= */
  --color-text-primary: oklch(0.2 0 0);
  --color-text-secondary: oklch(0.5 0 0);
  --color-text-tertiary: oklch(0.7 0 0);
  --color-text-quaternary: oklch(0.8 0 0);
  --color-text-inverse: oklch(0.95 0 0);
  --color-text-disabled: color-mix(in oklch, var(--color-text-secondary) 50%, transparent 50%);
  
  /* Link colors with interaction states */
  --color-link: var(--color-brand-primary);
  --color-link-hover: color-mix(in oklch, var(--color-link) 80%, oklch(0.8 0.18 260) 20%);
  --color-link-active: color-mix(in oklch, var(--color-link) 70%, oklch(0.5 0.22 260) 30%);
  --color-link-visited: color-mix(in oklch, var(--color-link) 85%, oklch(0.6 0.15 300) 15%);
  
  /* ========================================= 
     BORDER COLORS - Subtle Variations
     ========================================= */
  --color-border-primary: oklch(0.9 0 0);
  --color-border-secondary: oklch(0.85 0 0);
  --color-border-tertiary: oklch(0.8 0 0);
  --color-border-focus: var(--color-brand-primary);
  --color-border-error: var(--color-error);
  --color-border-success: var(--color-success);
  
  /* Interactive border states */
  --color-border-hover: color-mix(in oklch, var(--color-border-primary) 70%, var(--color-brand-primary) 30%);
  --color-border-active: color-mix(in oklch, var(--color-border-primary) 50%, var(--color-brand-primary) 50%);
  
  /* ========================================= 
     P3 DISPLAY COLORS - Wide Gamut Support
     ========================================= */
  --color-p3-red: color(display-p3 1 0.2 0.2);
  --color-p3-green: color(display-p3 0.2 0.9 0.3);
  --color-p3-blue: color(display-p3 0.2 0.4 1);
  --color-p3-yellow: color(display-p3 1 0.9 0.1);
  --color-p3-purple: color(display-p3 0.8 0.3 0.9);
  --color-p3-cyan: color(display-p3 0.1 0.9 0.9);
  --color-p3-orange: color(display-p3 1 0.6 0.2);
  --color-p3-pink: color(display-p3 1 0.3 0.7);
  
  /* Vivid accent colors for special elements */
  --color-accent-vivid-red: color(display-p3 1 0.1 0.3);
  --color-accent-vivid-green: color(display-p3 0.1 0.9 0.2);
  --color-accent-vivid-blue: color(display-p3 0.1 0.3 1);
  --color-accent-electric: color(display-p3 0 0.8 1);
  --color-accent-neon: color(display-p3 0.9 1 0.1);
  
  /* ========================================= 
     COLOR SCHEMES - Relative Colors
     ========================================= */
  --color-scheme-complementary: oklch(from var(--color-brand-primary) l c calc(h + 180));
  --color-scheme-triadic-1: oklch(from var(--color-brand-primary) l c calc(h + 120));
  --color-scheme-triadic-2: oklch(from var(--color-brand-primary) l c calc(h + 240));
  --color-scheme-analogous-1: oklch(from var(--color-brand-primary) l c calc(h + 30));
  --color-scheme-analogous-2: oklch(from var(--color-brand-primary) l c calc(h - 30));
  
  /* Split complementary scheme */
  --color-scheme-split-1: oklch(from var(--color-brand-primary) l c calc(h + 150));
  --color-scheme-split-2: oklch(from var(--color-brand-primary) l c calc(h + 210));
  
  /* ========================================= 
     GRADIENT STOPS - Modern Color Mixing
     ========================================= */
  --gradient-brand: linear-gradient(135deg, 
    var(--color-brand-primary) 0%, 
    color-mix(in oklch, var(--color-brand-primary) 80%, var(--color-brand-secondary) 20%) 50%,
    var(--color-brand-secondary) 100%);
    
  --gradient-sunset: linear-gradient(135deg,
    oklch(0.8 0.15 60) 0%,
    oklch(0.75 0.18 40) 50%,
    oklch(0.7 0.2 20) 100%);
    
  --gradient-ocean: linear-gradient(135deg,
    oklch(0.7 0.12 220) 0%,
    oklch(0.65 0.15 200) 50%,
    oklch(0.6 0.18 180) 100%);
    
  --gradient-forest: linear-gradient(135deg,
    oklch(0.7 0.15 142) 0%,
    oklch(0.65 0.18 162) 50%,
    oklch(0.6 0.2 182) 100%);
  
  /* Glass morphism gradients */
  --gradient-glass: linear-gradient(135deg,
    color-mix(in oklch, oklch(1 0 0) 90%, transparent 10%) 0%,
    color-mix(in oklch, oklch(1 0 0) 70%, transparent 30%) 100%);
    
  --gradient-glass-dark: linear-gradient(135deg,
    color-mix(in oklch, oklch(0.2 0 0) 90%, transparent 10%) 0%,
    color-mix(in oklch, oklch(0.2 0 0) 70%, transparent 30%) 100%);
}

/* Dark Mode Color System */
@media (prefers-color-scheme: dark) {
  :root {
    --color-surface-primary: oklch(0.15 0 0);
    --color-surface-secondary: oklch(0.18 0 0);
    --color-surface-tertiary: oklch(0.22 0 0);
    --color-text-primary: oklch(0.96 0 0);
    --color-text-secondary: oklch(0.82 0 0);
    --color-text-tertiary: oklch(0.65 0 0);
  }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
  :root {
    --color-text-primary: rgb(0 0 0);
    --color-text-secondary: rgb(0 0 0);
  }
}

/* Fallback for Browsers Without OKLCH Support */
@supports not (color: oklch(0.7 0.15 260)) {
  :root {
    --color-brand-primary: rgb(37 99 235);
    --color-brand-secondary: rgb(147 51 234);
    --color-brand-accent: rgb(236 72 153);
    --color-success: rgb(34 197 94);
    --color-warning: rgb(251 191 36);
    --color-error: rgb(239 68 68);
    --color-info: rgb(59 130 246);
    --color-surface-primary: rgb(255 255 255);
    --color-surface-secondary: rgb(249 250 251);
    --color-surface-tertiary: rgb(243 244 246);
    --color-text-primary: rgb(17 24 39);
    --color-text-secondary: rgb(75 85 99);
    --color-text-tertiary: rgb(156 163 175);
  }
  
  @media (prefers-color-scheme: dark) {
    :root {
      --color-surface-primary: rgb(17 24 39);
      --color-surface-secondary: rgb(31 41 55);
      --color-surface-tertiary: rgb(55 65 81);
      --color-text-primary: rgb(243 244 246);
      --color-text-secondary: rgb(209 213 219);
      --color-text-tertiary: rgb(156 163 175);
    }
  }
}
